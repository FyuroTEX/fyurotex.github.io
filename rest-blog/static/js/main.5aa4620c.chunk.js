(this["webpackJsonprest-blog"]=this["webpackJsonprest-blog"]||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(11),c=(a(26),a(4)),l=a(9);function o(e){return t=>{t({type:"SHOW_ALERT",payload:e}),setTimeout(()=>{t({type:"HIDE_ALERT"})},2500)}}const i=({alertMsg:e})=>r.a.createElement("div",{className:"alert alert-warning",role:"alert"},e);class u extends n.Component{constructor(e){super(e),this.submitHandler=e=>{e.preventDefault();const t=this.state.title;if(!t.trim())return this.props.showAlert("Title post can't be empty");const a={title:t,id:Date.now().toString()};this.props.createPost(a),this.setState({title:""})},this.changeInputHandler=e=>{e.persist(),this.setState(t=>Object(c.a)(Object(c.a)({},t),{[e.target.name]:e.target.value}))},this.state={title:""}}render(){const e=this.props,t=e.clearPosts,a=e.alertMsg;return r.a.createElement("form",{onSubmit:this.submitHandler,className:"mb-3 row"},a&&r.a.createElement(i,{alertMsg:a}),r.a.createElement("div",{className:"col-10"},r.a.createElement("label",{htmlFor:"title",className:"form-label"},"Create new post title"),r.a.createElement("input",{type:"text",placeholder:"Post Title",className:"form-control",id:"title",name:"title",value:this.state.title,onChange:this.changeInputHandler})),r.a.createElement("div",{className:"col-2 d-flex align-items-end justify-content-around"},r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Create"),r.a.createElement("button",{className:"btn btn-danger",onClick:t,type:"button"},"Clear\xa0data")))}}const p={createPost:function(e){return{type:"CREATE_POST",payload:e}},showAlert:o,clearPosts:function(){return localStorage.removeItem("myPosts"),{type:"CLEAR_POST"}}};var m=Object(l.b)(e=>({alertMsg:e.app.alert}),p)(u);var d=({post:e})=>r.a.createElement("div",{className:"card wow fadeInDown"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title)));var b=Object(l.b)(e=>({posts:e.posts.posts}))(({posts:e})=>void 0!==e&&e.length?e.map(e=>r.a.createElement(d,{post:e,key:e.id})):r.a.createElement("p",null,"Has no posts"));const E=()=>r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")));var O=()=>{const e=Object(l.c)(),t=Object(l.d)(e=>e.posts.fetchedPosts);return Object(l.d)(e=>e.app.loading)?r.a.createElement(E,null):void 0!==t&&t.length?t.map(e=>r.a.createElement(d,{post:e,key:e.id})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Has no posts"),r.a.createElement("button",{className:"btn btn-primary",onClick:()=>e({type:"REQUEST_POSTS"})},"Load Posts"))},h=a(18),f=a.n(h);var v=function(){return Object(n.useEffect)(()=>{new f.a.WOW({live:!1,mobile:!0}).init()}),r.a.createElement("div",{className:"container pt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(m,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u044b"),r.a.createElement(b,null)),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"API \u043f\u043e\u0441\u0442\u044b"),r.a.createElement(O,null))))},j=a(8);const g={posts:[],fetchedPosts:[]},y={loading:!1,alert:null},S=Object(j.c)({posts:(e=g,t)=>{switch(t.type){case"CREATE_POST":return Object(c.a)(Object(c.a)({},e),{},{posts:[...e.posts,t.payload]});case"FETCH_POST":return Object(c.a)(Object(c.a)({},e),{},{fetchedPosts:t.payload});case"CLEAR_POST":return Object(c.a)(Object(c.a)({},e),{},{fetchedPosts:[],posts:[]});default:return e}},app:(e=y,t)=>{switch(t.type){case"SHOW_LOADER":return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case"HIDE_LOADER":return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case"SHOW_ALERT":return Object(c.a)(Object(c.a)({},e),{},{alert:t.payload});case"HIDE_ALERT":return Object(c.a)(Object(c.a)({},e),{},{alert:null});default:return e}}});var w=a(19);const N=["spam","cheats"];var P=a(20),T=a(7),_=a.n(T),x=a(6),A=_.a.mark(H);function H(){var e,t;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(x.d)({type:"SHOW_LOADER"});case 3:return a.next=5,Object(x.c)(fetch,"https://jsonplaceholder.typicode.com/posts?_limit=7");case 5:return e=a.sent,a.next=8,Object(x.b)(e,e.json);case 8:return t=a.sent,a.next=11,Object(x.d)({type:"FETCH_POST",payload:t});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(x.d)(o(a.t0.message));case 17:return a.prev=17,a.next=20,Object(x.d)({type:"HIDE_LOADER"});case 20:return a.finish(17);case 21:case 22:case"end":return a.stop()}}),A,null,[[0,13,17,21]])}var R=_.a.mark(I),C=_.a.mark(D);function I(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.e)("REQUEST_POSTS",H);case 2:case"end":return e.stop()}}),R)}function D(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([Object(x.c)(I)]);case 2:case"end":return e.stop()}}),C)}var L=_.a.mark(k);function k(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([Object(x.c)(D)]);case 2:case"end":return e.stop()}}),L)}const W=Object(P.a)(),M=localStorage.getItem("savedPosts")?JSON.parse(localStorage.getItem("savedPosts")):void 0,F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,J=F||j.d,U=[W,w.a,function({dispatch:e}){return function(t){return function(a){if("CREATE_POST"===a.type){if(N.filter(e=>a.payload.title.includes(e)).length)return e(o("Stop spaming!"))}return t(a)}}}],Q=Object(j.e)(S,M,J(Object(j.a)(...U)));W.run(k),Q.subscribe(()=>{const e=Q.getState();localStorage.setItem("savedPosts",JSON.stringify(e))}),Object(s.render)(r.a.createElement(l.a,{store:Q},r.a.createElement(v,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.5aa4620c.chunk.js.map