(this["webpackJsonprest-blog"]=this["webpackJsonprest-blog"]||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(11),c=(a(26),a(4)),l=a(9);function o(e){return t=>{t({type:"SHOW_ALERT",payload:e}),setTimeout(()=>{t({type:"HIDE_ALERT"})},2500)}}const i=({alertMsg:e})=>s.a.createElement("div",{className:"alert alert-warning",role:"alert"},e);class m extends n.Component{constructor(e){super(e),this.submitHandler=e=>{e.preventDefault();const t=this.state.title;if(!t.trim())return this.props.showAlert("Title post can't be empty");const a={title:t,id:Date.now().toString()};this.props.createPost(a),this.setState({title:""})},this.changeInputHandler=e=>{e.persist(),this.setState(t=>Object(c.a)(Object(c.a)({},t),{[e.target.name]:e.target.value}))},this.state={title:""}}render(){const e=this.props,t=e.clearPosts,a=e.alertMsg;return s.a.createElement("form",{onSubmit:this.submitHandler,className:"mb-3 row"},a&&s.a.createElement(i,{alertMsg:a}),s.a.createElement("div",{className:"col-10"},s.a.createElement("label",{htmlFor:"title",className:"form-label"},"Create new post title"),s.a.createElement("input",{type:"text",placeholder:"Post Title",className:"form-control",id:"title",name:"title",value:this.state.title,onChange:this.changeInputHandler})),s.a.createElement("div",{className:"col-2 d-flex align-items-end justify-content-around"},s.a.createElement("button",{className:"btn btn-success",type:"submit"},"Create"),s.a.createElement("button",{className:"btn btn-danger",onClick:t,type:"button"},"Clear\xa0data")))}}const p={createPost:function(e){return{type:"CREATE_POST",payload:e}},showAlert:o,clearPosts:function(){return localStorage.removeItem("myPosts"),{type:"CLEAR_POST"}}};var u=Object(l.b)(e=>({alertMsg:e.app.alert}),p)(m);var d=({post:e})=>s.a.createElement("div",{className:"card wow animate__animated animate__fadeInUp"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},e.title)));var b=Object(l.b)(e=>({posts:e.posts.posts}))(({posts:e})=>void 0!==e&&e.length?e.map(e=>s.a.createElement(d,{post:e,key:e.id})):s.a.createElement("p",null,"Has no posts"));const E=()=>s.a.createElement("div",{className:"text-center"},s.a.createElement("div",{className:"spinner-border text-primary",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")));var O=()=>{const e=Object(l.c)(),t=Object(l.d)(e=>e.posts.fetchedPosts);return Object(l.d)(e=>e.app.loading)?s.a.createElement(E,null):void 0!==t&&t.length?t.map(e=>s.a.createElement(d,{post:e,key:e.id})):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Has no posts"),s.a.createElement("button",{className:"btn btn-primary",onClick:()=>e({type:"REQUEST_POSTS"})},"Load Posts"))},h=a(18),f=a.n(h);class v extends n.Component{componentDidMount(){new f.a.WOW({boxClass:"wow",animateClass:"animate__animated",offset:0,mobile:!0,live:!1}).init()}render(){return s.a.createElement("div",{className:"container pt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(u,null))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h2",null,"\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u044b"),s.a.createElement(b,null)),s.a.createElement("div",{className:"col"},s.a.createElement("h2",null,"API \u043f\u043e\u0441\u0442\u044b"),s.a.createElement(O,null))))}}var j=v,g=a(8);const y={posts:[],fetchedPosts:[]},S={loading:!1,alert:null},_=Object(g.c)({posts:(e=y,t)=>{switch(t.type){case"CREATE_POST":return Object(c.a)(Object(c.a)({},e),{},{posts:[...e.posts,t.payload]});case"FETCH_POST":return Object(c.a)(Object(c.a)({},e),{},{fetchedPosts:t.payload});case"CLEAR_POST":return Object(c.a)(Object(c.a)({},e),{},{fetchedPosts:[],posts:[]});default:return e}},app:(e=S,t)=>{switch(t.type){case"SHOW_LOADER":return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case"HIDE_LOADER":return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case"SHOW_ALERT":return Object(c.a)(Object(c.a)({},e),{},{alert:t.payload});case"HIDE_ALERT":return Object(c.a)(Object(c.a)({},e),{},{alert:null});default:return e}}});var w=a(19);const N=["spam","cheats"];var P=a(20),T=a(7),x=a.n(T),C=a(6),A=x.a.mark(H);function H(){var e,t;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.d)({type:"SHOW_LOADER"});case 3:return a.next=5,Object(C.c)(fetch,"https://jsonplaceholder.typicode.com/posts?_limit=7");case 5:return e=a.sent,a.next=8,Object(C.b)(e,e.json);case 8:return t=a.sent,a.next=11,Object(C.d)({type:"FETCH_POST",payload:t});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(C.d)(o(a.t0.message));case 17:return a.prev=17,a.next=20,Object(C.d)({type:"HIDE_LOADER"});case 20:return a.finish(17);case 21:case 22:case"end":return a.stop()}}),A,null,[[0,13,17,21]])}var R=x.a.mark(D),I=x.a.mark(L);function D(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)("REQUEST_POSTS",H);case 2:case"end":return e.stop()}}),R)}function L(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([Object(C.c)(D)]);case 2:case"end":return e.stop()}}),I)}var k=x.a.mark(M);function M(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([Object(C.c)(L)]);case 2:case"end":return e.stop()}}),k)}const W=Object(P.a)(),F=localStorage.getItem("savedPosts")?JSON.parse(localStorage.getItem("savedPosts")):void 0,J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,U=J||g.d,Q=[W,w.a,function({dispatch:e}){return function(t){return function(a){if("CREATE_POST"===a.type){if(N.filter(e=>a.payload.title.includes(e)).length)return e(o("Stop spaming!"))}return t(a)}}}],X=Object(g.e)(_,F,U(Object(g.a)(...Q)));W.run(M),X.subscribe(()=>{const e=X.getState();localStorage.setItem("savedPosts",JSON.stringify(e))}),Object(r.render)(s.a.createElement(l.a,{store:X},s.a.createElement(j,null)),document.getElementById("root"))}},[[21,1,2]]]);